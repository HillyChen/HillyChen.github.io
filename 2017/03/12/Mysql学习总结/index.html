<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><meta name="keywords" content="hexo,blog,博客,github,sunniberg,chenxushan,陈旭山"><title>Mysql学习总结 | 草泥上的蚂蚁</title><link rel="stylesheet" type="text/css" href="//fonts.css.network/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=1.3.0"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=1.3.0"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Mysql学习总结</h1><a id="logo" href="/.">草泥上的蚂蚁</a><p class="description">知无不言  言无不尽</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a><a href="/cxsresume.html"><i class="fa undefined"> resume</i></a><a href="/resource/"><i class="fa undefined"> resource</i></a><a href="/movie-music"><i class="fa undefined"> movie&amp;music</i></a></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Mysql学习总结</h1><div class="post-meta">Mar 12, 2017<span> | </span><span class="category"><a href="/categories/Mysql/">Mysql</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-thread-key="2017/03/12/Mysql学习总结/" href="/2017/03/12/Mysql学习总结/#comments" class="ds-thread-count"></a><div class="post-content"><p>知识在乎不断的积累和总结，好记性不如烂笔头.读各种书，以博客以记之，为了自己日后学习查阅，也可以和远方来的朋友分享交流。</p>
<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><blockquote>
<ul>
<li>MySQL 是一个关系数据库系统，支持 SQL 查询语言。</li>
<li>MySQL 可以是免费的，你不需要为它付费。</li>
<li>MySQL 系统的速度非常快，同样它的性能也是十分优良的。</li>
<li>MySQL 是一个管理简捷的数据库，它没有庞大而臃肿的可视化管理工具。</li>
</ul>
</blockquote>
<h3 id="mysql基础命令"><a href="#mysql基础命令" class="headerlink" title="mysql基础命令"></a>mysql基础命令</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">USE</span> tablename;</div><div class="line"><span class="keyword">SHOW</span> <span class="keyword">databases</span>;</div><div class="line"><span class="keyword">SHOW</span> <span class="keyword">tables</span>;</div><div class="line"><span class="keyword">SHOW</span> <span class="keyword">columns</span> <span class="keyword">from</span> tablename;<span class="comment">--返回数据表的各个列及属性</span></div><div class="line"><span class="keyword">DESCRIBE</span> tablename;<span class="comment">--等价于上一句</span></div><div class="line"><span class="keyword">SHOW</span> <span class="keyword">STATUS</span>;<span class="comment">--用于显示广泛的服务器状态信息;</span></div><div class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">DATABASE</span>,<span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span><span class="comment">--分别用来显示创建特定数据库或表的MySQL语句;</span></div><div class="line"><span class="keyword">SHOW</span> <span class="keyword">GRANTS</span>;<span class="comment">--用来显示授予用户(所有用户或特定用户)的安全权限;</span></div><div class="line"><span class="keyword">SHOW</span> <span class="keyword">ERRORS</span>,<span class="keyword">SHOW</span> <span class="keyword">WARNINGS</span>;<span class="comment">--用来显示服务器错误或警告消息</span></div><div class="line"><span class="comment">--进一步了解SHOW 请在mysql命令行实用程序中，执行命令 HELP SHOW;显示允许的SHOW语句。</span></div><div class="line"><span class="comment">-- 检索</span></div><div class="line"><span class="keyword">SELECT</span> colum_name <span class="keyword">FROM</span> tablename;</div><div class="line"><span class="comment">--检索多个列</span></div><div class="line"><span class="keyword">SELECT</span> colum1,colum2,colum3 <span class="keyword">FROM</span> tablename;</div><div class="line"><span class="comment">--检索多个列</span></div><div class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> tablename;</div><div class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> vend_id <span class="keyword">FROM</span> tablename;<span class="comment">--返回不同(唯一)的vend_id行</span></div><div class="line"><span class="comment">--检索指定行</span></div><div class="line"><span class="keyword">SELECT</span> <span class="keyword">colum</span> <span class="keyword">FROM</span> tablename <span class="keyword">LIMIT</span> <span class="number">5</span>;<span class="comment">--LIMIT 5指示MySQL返回 不多于5行</span></div><div class="line"><span class="comment">--为得出下一个5行，可指定要检索的开始行和行数</span></div><div class="line"><span class="keyword">SELECT</span> <span class="keyword">colum</span> <span class="keyword">FROM</span> tablename <span class="keyword">LIMIT</span> <span class="number">5</span>,<span class="number">5</span>;</div><div class="line"><span class="comment">--使用完全限定的表名</span></div><div class="line"><span class="keyword">SELECT</span> tablename.column <span class="keyword">FROM</span> databse.tablename;<span class="comment">--在有些场景的时候，是需要这样的，多表查询的时候;</span></div></pre></td></tr></table></figure>
<h4 id="排序数据检索"><a href="#排序数据检索" class="headerlink" title="排序数据检索"></a>排序数据检索</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> <span class="keyword">column</span> <span class="keyword">FROM</span> tablename <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="keyword">column</span>;<span class="comment">--按单列排序</span></div><div class="line"><span class="keyword">SELECT</span> column1,column2,column3 <span class="keyword">FROM</span> tablename <span class="keyword">ORDER</span> <span class="keyword">BY</span> column2,column3;</div><div class="line"><span class="comment">--指定排序方向</span></div><div class="line"><span class="keyword">SELECT</span> <span class="keyword">column</span> <span class="keyword">FROM</span> tablename <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="keyword">column</span> <span class="keyword">DESC</span>;<span class="comment">--降序排序</span></div><div class="line"><span class="keyword">SELECT</span> column1,column2,column3 <span class="keyword">FROM</span> tablename <span class="keyword">ORDER</span> <span class="keyword">BY</span> column2 <span class="keyword">DESC</span>,column3;<span class="comment">--默认是升序ASC</span></div><div class="line"><span class="comment">-- 使用ORDER BY 和LIMIT组合可以选出最大和最小</span></div><div class="line"><span class="keyword">SELECT</span> <span class="keyword">column</span> <span class="keyword">FROM</span> tablename <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="keyword">column</span> <span class="keyword">DESC</span> <span class="keyword">LIMIT</span> <span class="number">1</span>;</div></pre></td></tr></table></figure>
<h4 id="过滤数据"><a href="#过滤数据" class="headerlink" title="过滤数据"></a>过滤数据</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> column1,column2,column3 <span class="keyword">FROM</span> tablename <span class="keyword">WHERE</span> column1=<span class="keyword">value</span>;</div><div class="line"><span class="comment">-- WHERE子句的位置 在同时使用ORDERBY和WHERE子句时，应 该让ORDER BY位于WHERE之后，否则将会产生错误</span></div><div class="line"><span class="comment">-- = 等于&lt;&gt; 不等于 != 不等于 &lt; 小于 &lt;= 小于等于 &gt; 大于 &gt;= 大于等于 BETWEEN 在指定的两个值之间</span></div><div class="line"><span class="keyword">SELECT</span> column1,column2,column3 <span class="keyword">FROM</span> tablename <span class="keyword">WHERE</span> column1 <span class="keyword">BETWEEN</span> value1 <span class="keyword">AND</span> value2;</div><div class="line"><span class="comment">-- 空值检查</span></div><div class="line"><span class="keyword">SELECT</span> column1,column2,column3 <span class="keyword">FROM</span> tablename <span class="keyword">WHERE</span> column1 <span class="keyword">IS</span> <span class="literal">NULL</span>;</div></pre></td></tr></table></figure>
<h4 id="数据过滤"><a href="#数据过滤" class="headerlink" title="数据过滤"></a>数据过滤</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- 为了进行更强的过滤控制，MySQL允许给出多个WHERE子句。这些子 句可以两种方式使用:以AND子句的方式或OR子句的方式使用。</span></div><div class="line"><span class="comment">-- AND操作符</span></div><div class="line"><span class="keyword">SELECT</span> column1,column2,column3 <span class="keyword">FROM</span> tablename <span class="keyword">WHERE</span> column1=value1 <span class="keyword">AND</span> column3 &lt; value2;</div><div class="line"><span class="comment">-- OR操作符</span></div><div class="line"><span class="keyword">SELECT</span> column1,column2,column3 <span class="keyword">FROM</span> tablename <span class="keyword">WHERE</span> column1=value1 <span class="keyword">OR</span> column3 &lt; value2;</div><div class="line"><span class="keyword">SELECT</span> column1,column2,column3 <span class="keyword">FROM</span> tablename <span class="keyword">WHERE</span> (column1 = value1 <span class="keyword">OR</span> column1 = value2) <span class="keyword">AND</span> column3 &lt; value2;<span class="comment">--不加括号的话，存在优先级选择问题，可能不会产生预期的结果</span></div><div class="line"><span class="comment">-- IN 操作符</span></div><div class="line"><span class="keyword">SELECT</span> column1,column2,column3 <span class="keyword">FROM</span> tablename <span class="keyword">WHERE</span> column1 <span class="keyword">IN</span> (value1,value2) <span class="keyword">ORDER</span> <span class="keyword">BY</span> column2;<span class="comment">-- 和or功能相似，但是有点就是执行更快，逻辑更清晰，可以包含其他SELECT语句，使得能够更动态地建立WHERE子句</span></div><div class="line"><span class="comment">-- NOT操作符</span></div><div class="line"><span class="keyword">SELECT</span> column1,column2,column3 <span class="keyword">FROM</span> tablename <span class="keyword">WHERE</span> column1 <span class="keyword">NOT</span> <span class="keyword">IN</span> (value1,value2) <span class="keyword">ORDER</span> <span class="keyword">BY</span> column2;</div></pre></td></tr></table></figure>
<h4 id="用通配符进行过滤"><a href="#用通配符进行过滤" class="headerlink" title="用通配符进行过滤"></a>用通配符进行过滤</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">--LIKE操作符</span></div><div class="line"><span class="comment">-- 通配符(wildcard) 用来匹配值的一部分的特殊字符</span></div><div class="line"><span class="comment">--搜索模式(search pattern)由字面值、通配符或两者组合构成的搜索条件。</span></div><div class="line"><span class="comment">-- 谓词 操作符何时不是操作符?答案是在它作为谓词(predi- cate)时。从技术上说，LIKE是谓词而不是操作符。虽然最终 的结果是相同的，但应该对此术语有所了解，以免在SQL文档 中遇到此术语时不知道。</span></div><div class="line"><span class="comment">-- 百分号(%)通配符</span></div><div class="line"><span class="keyword">SELECT</span> column1,column2,column3 <span class="keyword">FROM</span> tablename <span class="keyword">WHERE</span> column1 <span class="keyword">LIKE</span> <span class="string">"value%"</span>;<span class="comment">--以value为开头的结果</span></div><div class="line"><span class="keyword">SELECT</span> column1,column2,column3 <span class="keyword">FROM</span> tablename <span class="keyword">WHERE</span> column1 <span class="keyword">LIKE</span> <span class="string">"%value%"</span>;<span class="comment">-- 所有包含value的</span></div><div class="line"><span class="comment">-- 注意NULL 虽然似乎%通配符可以匹配任何东西，但有一个例 外，即NULL。即使是WHERE prod_name LIKE '%'也不能匹配 用值NULL作为产品名的行。</span></div><div class="line"><span class="comment">-- 下划线(_)通配符</span></div><div class="line"><span class="comment">-- 另一个有用的通配符是下划线(_)。下划线的用途与%一样，但下划线只匹配单个字符而不是多个字符。</span></div></pre></td></tr></table></figure>
<blockquote>
<p>正如所见，MySQL的通配符很有用。但这种功能是有代价的:通配 符搜索的处理一般要比前面讨论的其他搜索所花时间更长。这里给出一 些使用通配符要记住的技巧。</p>
<ul>
<li>不要过度使用通配符。如果其他操作符能达到相同的目的，应该 使用其他操作符</li>
<li>在确实需要使用通配符时，除非绝对有必要，否则不要把它们用 在搜索模式的开始处。把通配符置于搜索模式的开始处，搜索起 来是最慢的</li>
<li>仔细注意通配符的位置。如果放错地方，可能不会返回想要的数据。总之，通配符是一种极重要和有用的搜索工具，以后我们经常会用 到它。</li>
</ul>
</blockquote>
<h4 id="用正则表达式-进行搜索"><a href="#用正则表达式-进行搜索" class="headerlink" title="用正则表达式 进行搜索"></a>用正则表达式 进行搜索</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- 基本字符匹配</span></div><div class="line"><span class="keyword">SELECT</span> column1,column2,column3 <span class="keyword">FROM</span> tablename <span class="keyword">WHERE</span> column1 REGEXP <span class="string">'1000'</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> column1;</div><div class="line"><span class="keyword">SELECT</span> column1,column2,column3 <span class="keyword">FROM</span> tablename <span class="keyword">WHERE</span> column1 REGEXP <span class="string">'.1000'</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> column1;<span class="comment">--这里使用了正则表达式.000。.是正则表达式语言中一个特殊的字符。它表示匹配任意一个字符，因此，1000和2000都匹配 且返回。</span></div></pre></td></tr></table></figure>
<blockquote>
<p><strong>LIKE与REGEXP</strong> 在LIKE和REGEXP之间有一个重要的差别。请 看以下两条语句:<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> column1,column2,column3 <span class="keyword">FROM</span> tablename <span class="keyword">WHERE</span> column1 <span class="keyword">LIKE</span> <span class="string">'.1000'</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> column1;</div><div class="line"><span class="keyword">SELECT</span> column1,column2,column3 <span class="keyword">FROM</span> tablename <span class="keyword">WHERE</span> column1 REGEXP <span class="string">'1000'</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> column1;</div></pre></td></tr></table></figure></p>
<p>如果执行上述两条语句，会发现第一条语句不返回数据，而第 二条语句返回一行。为什么?<br>正如第8章所述，LIKE匹配整个列。如果被匹配的文本在列值 中出现，LIKE将不会找到它，相应的行也不被返回(除非使用 通配符)。而REGEXP在列值内进行匹配，如果被匹配的文本在 列值中出现，REGEXP将会找到它，相应的行将被返回。这是一 个非常重要的差别。<br>那么，REGEXP能不能用来匹配整个列值(从而起与LIKE相同的作用)?答案是肯定的，使用^和$定位符(anchor)即可.<br><strong>匹配不区分大小写</strong> MySQL中的正则表达式匹配(自版本 3.23.4后)不区分大小写(即，大写和小写都匹配)。为区分大 小写，可使用BINARY关键字，如WHERE prod_name REGEXP BINARY ‘JetPack .000’。<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">--进行OR匹配：为搜索两个串之一(或者为这个串，或者为另一个串)，使用|，如下所示</span></div><div class="line"><span class="keyword">SELECT</span> column1,column2,column3 <span class="keyword">FROM</span> tablename <span class="keyword">WHERE</span> column1 REGEXP <span class="string">'1000|2000'</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> column1;</div><div class="line"><span class="comment">-- 匹配几个字符之一两个以上的OR条件 可以给出两个以上的OR条件。例如， '1000 | 2000 | 3000'将匹配1000或2000或3000。</span></div><div class="line"><span class="comment">--匹配几个字符之一</span></div><div class="line"><span class="keyword">SELECT</span> column1,column2,column3 <span class="keyword">FROM</span> tablename <span class="keyword">WHERE</span> column1 REGEXP <span class="string">'[123] tom'</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> column1;<span class="comment">--1 ton和2 ton都匹配且返回</span></div><div class="line"><span class="comment">-- 字符集合也可以被否定，即，它们将匹配除指定字符外的任何东西。 为否定一个字符集，在集合的开始处放置一个^即可。因此，尽管[123] 匹配字符1、2或3，但[^123]却匹配除这些字符外的任何东西。</span></div><div class="line"><span class="comment">-- 匹配范围</span></div><div class="line"><span class="comment">-- 集合可用来定义要匹配的一个或多个字符。例如，下面的集合将匹 配数字0到9:[0123456789],为简化这种类型的集合，可使用-来定义一个范围。下面的式子功能 上等同于上述数字列表:[0-9],[a-z]匹配任意字母字符道理类似</span></div><div class="line"><span class="comment">-- 匹配特殊字符，要用\\转移，\\.，代表搜索含有.字符的</span></div></pre></td></tr></table></figure></p>
<p>匹配字符类:存在找出你自己经常使用的数字、所有字母字符或所有数字字母字 符等的匹配。为更方便工作，可以使用预定义的字符集，称为字符类(character class)。</p>
<ul>
<li>[:alnum:]:任意字母和数字(同[a-zA-Z0-9])</li>
<li>[:alpha:]: 任意字符(同[a-zA-Z])</li>
<li>[:blank:]:空格和制表(同[\t])</li>
<li>[:cntrl:]:ASCII控制字符(ASCII 0到31和127)</li>
<li>[:digit:]:任意数字(同[0-9])</li>
<li>[:graph:]:与[:print:]相同，但不包括空格</li>
<li>[:lower:]:任意小写字母(同[a-z])</li>
<li>[:print:]:任意可打印字符</li>
<li>[:punct:]:既不在[:alnum:]又不在[:cntrl:]中的任意字符</li>
<li>[:space:]:包括空格在内的任意空白字符(同[\f\n\r\t\v])</li>
<li>[:upper:]:任意大写字母(同[A-Z])</li>
<li>[:xdigit:]:任意十六进制数字(同[a-fA-F0-9])<br>匹配多个实例：</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:center">元字符</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">*</td>
<td style="text-align:center">0个或多个匹配</td>
</tr>
<tr>
<td style="text-align:center">+</td>
<td style="text-align:center">1个或多个匹配(等于{1,})</td>
</tr>
<tr>
<td style="text-align:center">？</td>
<td style="text-align:center">0个或1个匹配(等于{0,1}) {n} 指定数目的匹配</td>
</tr>
<tr>
<td style="text-align:center">{n,}</td>
<td style="text-align:center">不少于指定数目的匹配</td>
</tr>
<tr>
<td style="text-align:center">{n,m}</td>
<td style="text-align:center">匹配数目的范围(m不超过255)</td>
</tr>
</tbody>
</table>
<p>举例：正则表达式\([0-9] sticks?\)：\(匹配)，[0-9]匹配任意数字(这个例子中为1和5)，sticks?匹配stick 和sticks(s后的?使s可选，因为?匹配它前面的任何字符的0次或1次出 现)，\)匹配)。没有?，匹配stick和sticks会非常困难。<br>[[:digit:]]{4}：匹配连在一起的任意4位数字<br>定位符<br>| 元字符       | 说明          |<br>| :————-: |:————-:|<br>|^|文本的开始|<br>|$|文本的结尾|<br>|[[:&lt;:]]|词的开始|<br>|[[:&gt;:]]|词的结尾|<br>^[0-9\.]只在.或任意数字为串中第<br>一个字符时才匹配它们</p>
</blockquote>
<h4 id="创建计算字段"><a href="#创建计算字段" class="headerlink" title="创建计算字段"></a>创建计算字段</h4><blockquote>
<p>存储在数据库表中的数据一般不是应用程序所需要的格式。下面举<br>几个例子。</p>
<ul>
<li>如果想在一个字段中既显示公司名，又显示公司的地址，但这两 个信息一般包含在不同的表列中。</li>
<li>城市、州和邮政编码存储在不同的列中(应该这样)，但邮件标签 打印程序却需要把它们作为一个恰当格式的字段检索出来。</li>
<li>列数据是大小写混合的，但报表程序需要把所有数据按大写表示 出来。</li>
<li>物品订单表存储物品的价格和数量，但不需要存储每个物品的总 价格(用价格乘以数量即可)。为打印发票，需要物品的总价格。</li>
<li>需要根据表数据进行总数、平均数计算或其他计算。<br>在上述每个例子中，存储在表中的数据都不是应用程序所需要的。 我们需要直接从数据库中检索出转换、计算或格式化过的数据;而不是 检索出数据，然后再在客户机应用程序或报告程序中重新格式化。<br>这就是计算字段发挥作用的所在了。与前面各章介绍过的列不同， 计算字段并不实际存在于数据库表中。计算字段是运行时在SELECT语句 内创建的。<h5 id="拼接字段"><a href="#拼接字段" class="headerlink" title="拼接字段"></a>拼接字段</h5>为了说明如何使用计算字段，举一个创建由两列组成的标题的简单例子。vendors表包含供应商名和位置信息。假如要生成一个供应商报表， 需要在供应商的名字中按照name(location)这样的格式列出供应商的位 置。此报表需要单个值，而表中数据存储在两个列vend_name和vend_country中在MySQL的SELECT语句中，可使用Concat()函数来拼接两个列。<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">-- MySQL的不同之处 多数DBMS使用+或||来实现拼接， MySQL则使用Concat()函数来实现。当把SQL语句转换成 MySQL语句时一定要把这个区别铭记在心。</span></div><div class="line"><span class="keyword">SELECT</span> <span class="keyword">Concat</span>(vend_name,<span class="string">'('</span>,vend_country,<span class="string">')'</span>) <span class="keyword">FROM</span> vendors <span class="keyword">ORDER</span> <span class="keyword">BY</span> vend_name;</div><div class="line"><span class="comment">-- 曾提到通过删除数据右侧多余的空格来整理数据，这可以 使用MySQL的RTrim()函数来完成</span></div><div class="line"><span class="keyword">SELECT</span> <span class="keyword">Concat</span>(<span class="keyword">RTrim</span>(vend_name),<span class="string">'('</span>,<span class="keyword">RTrim</span>(vend_country),<span class="string">')'</span>) <span class="keyword">FROM</span> vendors <span class="keyword">ORDER</span> <span class="keyword">BY</span> vend_name;</div></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h3 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h3><h4 id="01创建一个表格"><a href="#01创建一个表格" class="headerlink" title="01创建一个表格"></a>01创建一个表格</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> teacher</div><div class="line">(</div><div class="line"><span class="keyword">id</span> TINYINT <span class="keyword">UNSIGNED</span> <span class="keyword">NOT</span> <span class="literal">NULL</span>,</div><div class="line"><span class="keyword">name</span> <span class="built_in">CHAR</span>(<span class="number">16</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</div><div class="line">tele <span class="built_in">NUMERIC</span>(<span class="number">8</span>),</div><div class="line">sex ENUM(<span class="string">"F"</span>,<span class="string">"M"</span>) <span class="keyword">DEFAULT</span> <span class="string">"M"</span></div><div class="line">)</div></pre></td></tr></table></figure>
<p>由上面这个例子可以知道，创建列类型的语法是: col_name col_type [col_attributes][general_attributes]</p>
<ul>
<li>col_name 列的名字</li>
<li>col_type 列类型，控制存储在列中的数据类型</li>
<li>col_attributes 专用属性，只能应用于制定列，例如，我们还不知道的 BINARY。 如果你使用专用属性，必须在列的类型之后，列的通用属性之前。</li>
<li>general_attributes 通用属性，可以应用在出少数列的任意列，例如上面提到了 NULL、 NOT NULL、和 DEFAULT。</li>
<li>MySQL 的数字列类型<br><img src="http://ww1.sinaimg.cn/large/af1cab2fgy1fdp6efjbxmj20qm0k841v.jpg" alt=""><img src="http://ww1.sinaimg.cn/large/af1cab2fgy1fdp7523ke3j20sg0o60x7.jpg" alt=""></li>
</ul>
<p>####</p>
</div><div class="tags"><a href="/tags/Mysql/">Mysql</a></div><div class="post-nav"><a href="/2017/03/12/Git总结/" class="pre">Git总结</a><a href="/2017/03/12/Java/" class="next">java学习</a></div><div data-thread-key="2017/03/12/Mysql学习总结/" data-title="Mysql学习总结" data-url="https://git.oschina.net/chenxushan/chenxushan.git/2017/03/12/Mysql学习总结/" class="ds-share flat"><div class="ds-share-inline"><ul class="ds-share-icons-16"><li data-toggle="ds-share-icons-more"><a href="javascript:void(0);" class="ds-more">分享到:</a></li><li><a href="javascript:void(0);" data-service="weibo" class="ds-weibo">微博</a></li><li><a href="javascript:void(0);" data-service="qzone" class="ds-qzone">QQ空间</a></li><li><a href="javascript:void(0);" data-service="qqt" class="ds-qqt">腾讯微博</a></li><li><a href="javascript:void(0);" data-service="wechat" class="ds-wechat">微信</a></li></ul><div class="ds-share-icons-more"></div></div></div><div id="comments"><div data-thread-key="2017/03/12/Mysql学习总结/" data-title="Mysql学习总结" data-url="https://git.oschina.net/chenxushan/chenxushan.git/2017/03/12/Mysql学习总结/" data-author-key="1" class="ds-thread"></div></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Mysql/">Mysql</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/UI/">UI</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/algorithm/">algorithm</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/c-cpp/">c/cpp</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/css/">css</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/javascript/">javascript</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/博客迁移/">博客迁移</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机基础/">计算机基础</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/PHP/" style="font-size: 15px;">PHP</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/Mysql/" style="font-size: 15px;">Mysql</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/博客迁移/" style="font-size: 15px;">博客迁移</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/c-cpp/" style="font-size: 15px;">c/cpp</a> <a href="/tags/algorithm/" style="font-size: 15px;">algorithm</a> <a href="/tags/计算机基础/" style="font-size: 15px;">计算机基础</a> <a href="/tags/UI/" style="font-size: 15px;">UI</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-fei"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">四月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">三月 2017</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/04/22/css学习笔记/">css学习笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/16/c-cpp学习笔记/">c/cpp学习笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/09/Hexo博客迁移部署到oschina-开源中国-coding-码云/">Hexo博客迁移部署到oschina(开源中国)&&codingNet(码市)</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/07/计算机专业基础知识/">计算机专业基础知识</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/05/设计师和程序员必备：全世界最著名的-icons-网站/">设计师和程序员必备：全世界最著名的 icons 网站</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/18/学习vue-js实现的一个小demo/">学习vue.js实现的一个小demo</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/18/PHP学习总结/">PHP学习总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/12/算法学习01/">算法学习01</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/12/javascript学习总结/">javascript学习总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/12/Git总结/">Git总结</a></li></ul></div><div class="widget"><div class="comments-title"><i class="fa fa-commt"> 最近评论</i></div><div data-num-items="5" data-show-avatars="0" data-show-time="1" data-show-admin="0" data-excerpt-length="32" data-show-title="1" class="ds-recent-comments"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-weibo"> 新浪微博</i></div><iframe width="100%" height="400" frameborder="0" scrolling="no" src="https://widget.weibo.com/weiboshow/index.php?language=&amp;width=0&amp;height=550&amp;fansRow=2&amp;ptype=1&amp;speed=0&amp;skin=5&amp;isTitle=0&amp;noborder=0&amp;isWeibo=1&amp;isFans=0&amp;uid=2937891631&amp;verifier=fbb6cab5&amp;colors=ffffff,ffffff,333333,40759b,ecfbfd&amp;dpc=1" class="share_self"></iframe></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="http://jiyiren.github.io/" title="jiyiren" target="_blank">jiyiren</a><ul></ul><a href="https://scratch.mit.edu" title="scracth" target="_blank">scracth</a><ul></ul><a href="http://www.geeksforgeeks.org" title="geeksforgeeks" target="_blank">geeksforgeeks</a><ul></ul><a href="https://leetcode.com" title="leetcode" target="_blank">leetcode</a><ul></ul><a href="https://www.reddit.com" title="reddit(美国的百度贴吧)" target="_blank">reddit(美国的百度贴吧)</a><ul></ul><a href="https://www.quora.com/" title="Quora(美国的知乎)" target="_blank">Quora(美国的知乎)</a><ul></ul><a href="http://www.pinterest.com" title="pinterest(汇集了这个世界上最美的图集，设计师的最爱，目前被强了，得推墙才能看!)" target="_blank">pinterest(汇集了这个世界上最美的图集，设计师的最爱，目前被强了，得推墙才能看!)</a><ul></ul><a href="https://github.com/jobbole" title="awesome-cn系列" target="_blank">awesome-cn系列</a><ul></ul><a href="https://github.com/computeracy" title="computeracy" target="_blank">computeracy</a></div></div></div></div><a id="totop" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=1.3.0" async></script><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">网站地图</a> |<a href="/atom.xml">订阅本站</a> |<span>联系博主：<a href="mailto:chenxushan58@gmail.com" target="_blank" class="fa fa-email"> </a><a href="http://weibo.com/u/2937891631" target="_blank" class="fa fa-weibo"></a><a href="https://github.com/HillyChen" target="_blank" class="fa fa-github"> </a></span></p><p><span> Copyright &copy;<a href="/." rel="nofollow">sunniberg</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span><span><a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> Theme </a>by<a rel="nofollow" target="_blank" href="https://github.com/chaooo"> Charles.</a></span></p></div></div></div><script>var duoshuoQuery = {short_name:'hillychen'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    document.getElementsByTagName('body')[0].appendChild(ds);
})();
</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','[object Object]','auto');ga('send','pageview');
</script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e93a3164e8e805ff6aa39ba955d338ec";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
  })();</script></body></html>